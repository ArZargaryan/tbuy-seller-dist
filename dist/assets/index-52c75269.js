import{r as M,i as E}from"./createSvgIcon-767dd3f6.js";import{j as W,r as z,V as at}from"./index-786c574d.js";import{p as pt}from"./index-a605fed4.js";var F={},ut=E;Object.defineProperty(F,"__esModule",{value:!0});var dt=F.default=void 0,ft=ut(M()),ct=W,vt=(0,ft.default)((0,ct.jsx)("path",{d:"M20 9H4v2h16V9zM4 15h16v-2H4v2z"}),"DragHandle");dt=F.default=vt;var I={},gt=E;Object.defineProperty(I,"__esModule",{value:!0});var bt=I.default=void 0,mt=gt(M()),wt=W,yt=(0,mt.default)((0,wt.jsx)("path",{d:"M7.11 8.53 5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z"}),"RotateLeft");bt=I.default=yt;var q={},zt=E;Object.defineProperty(q,"__esModule",{value:!0});var Rt=q.default=void 0,St=zt(M()),xt=W,_t=(0,St.default)((0,xt.jsx)("path",{d:"M15.55 5.55 11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10l4.55-4.45zM19.93 11c-.17-1.39-.72-2.73-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47h2.02zM13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03zm3.89-2.42 1.42 1.41c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.48z"}),"RotateRight");Rt=q.default=_t;var V={},Mt=E;Object.defineProperty(V,"__esModule",{value:!0});var Et=V.default=void 0,Wt=Mt(M()),K=W,Lt=(0,Wt.default)([(0,K.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},"0"),(0,K.jsx)("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"},"1")],"ZoomIn");Et=V.default=Lt;var X={},Ot=E;Object.defineProperty(X,"__esModule",{value:!0});var Bt=X.default=void 0,Nt=Ot(M()),Ct=W,Dt=(0,Nt.default)((0,Ct.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}),"ZoomOut");Bt=X.default=Dt;var jt=globalThis&&globalThis.__extends||function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])},o(r,e)};return function(r,e){o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),f=globalThis&&globalThis.__assign||function(){return f=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])}return o},f.apply(this,arguments)},Q={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},tt={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},D={width:"20px",height:"20px",position:"absolute"},Ht={top:f(f({},Q),{top:"-5px"}),right:f(f({},tt),{left:void 0,right:"-5px"}),bottom:f(f({},Q),{top:void 0,bottom:"-5px"}),left:f(f({},tt),{left:"-5px"}),topRight:f(f({},D),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:f(f({},D),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:f(f({},D),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:f(f({},D),{left:"-10px",top:"-10px",cursor:"nw-resize"})},Pt=function(o){jt(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return e.onMouseDown=function(t){e.props.onResizeStart(t,e.props.direction)},e.onTouchStart=function(t){e.props.onResizeStart(t,e.props.direction)},e}return r.prototype.render=function(){return z.createElement("div",{className:this.props.className||"",style:f(f({position:"absolute",userSelect:"none"},Ht[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},r}(z.PureComponent),Tt=globalThis&&globalThis.__extends||function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])},o(r,e)};return function(r,e){o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),y=globalThis&&globalThis.__assign||function(){return y=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])}return o},y.apply(this,arguments)},kt={width:"auto",height:"auto"},j=function(o,r,e){return Math.max(Math.min(o,e),r)},et=function(o,r){return Math.round(o/r)*r},S=function(o,r){return new RegExp(o,"i").test(r)},H=function(o){return!!(o.touches&&o.touches.length)},At=function(o){return!!((o.clientX||o.clientX===0)&&(o.clientY||o.clientY===0))},it=function(o,r,e){e===void 0&&(e=0);var t=r.reduce(function(a,s,n){return Math.abs(s-o)<Math.abs(r[a]-o)?n:a},0),i=Math.abs(r[t]-o);return e===0||i<e?r[t]:o},U=function(o){return o=o.toString(),o==="auto"||o.endsWith("px")||o.endsWith("%")||o.endsWith("vh")||o.endsWith("vw")||o.endsWith("vmax")||o.endsWith("vmin")?o:o+"px"},P=function(o,r,e,t){if(o&&typeof o=="string"){if(o.endsWith("px"))return Number(o.replace("px",""));if(o.endsWith("%")){var i=Number(o.replace("%",""))/100;return r*i}if(o.endsWith("vw")){var i=Number(o.replace("vw",""))/100;return e*i}if(o.endsWith("vh")){var i=Number(o.replace("vh",""))/100;return t*i}}return o},$t=function(o,r,e,t,i,a,s){return t=P(t,o.width,r,e),i=P(i,o.height,r,e),a=P(a,o.width,r,e),s=P(s,o.height,r,e),{maxWidth:typeof t>"u"?void 0:Number(t),maxHeight:typeof i>"u"?void 0:Number(i),minWidth:typeof a>"u"?void 0:Number(a),minHeight:typeof s>"u"?void 0:Number(s)}},Ut=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],rt="__resizable_base__",oe=function(o){Tt(r,o);function r(e){var t=o.call(this,e)||this;return t.ratio=1,t.resizable=null,t.parentLeft=0,t.parentTop=0,t.resizableLeft=0,t.resizableRight=0,t.resizableTop=0,t.resizableBottom=0,t.targetLeft=0,t.targetTop=0,t.appendBase=function(){if(!t.resizable||!t.window)return null;var i=t.parentNode;if(!i)return null;var a=t.window.document.createElement("div");return a.style.width="100%",a.style.height="100%",a.style.position="absolute",a.style.transform="scale(0, 0)",a.style.left="0",a.style.flex="0 0 100%",a.classList?a.classList.add(rt):a.className+=rt,i.appendChild(a),a},t.removeBase=function(i){var a=t.parentNode;a&&a.removeChild(i)},t.ref=function(i){i&&(t.resizable=i)},t.state={isResizing:!1,width:typeof(t.propsSize&&t.propsSize.width)>"u"?"auto":t.propsSize&&t.propsSize.width,height:typeof(t.propsSize&&t.propsSize.height)>"u"?"auto":t.propsSize&&t.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},t.onResizeStart=t.onResizeStart.bind(t),t.onMouseMove=t.onMouseMove.bind(t),t.onMouseUp=t.onMouseUp.bind(t),t}return Object.defineProperty(r.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||kt},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var i=this.resizable.offsetWidth,a=this.resizable.offsetHeight,s=this.resizable.style.position;s!=="relative"&&(this.resizable.style.position="relative"),e=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:i,t=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:a,this.resizable.style.position=s}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,i=function(n){if(typeof e.state[n]>"u"||e.state[n]==="auto")return"auto";if(e.propsSize&&e.propsSize[n]&&e.propsSize[n].toString().endsWith("%")){if(e.state[n].toString().endsWith("%"))return e.state[n].toString();var h=e.getParentSize(),l=Number(e.state[n].toString().replace("px","")),p=l/h[n]*100;return p+"%"}return U(e.state[n])},a=t&&typeof t.width<"u"&&!this.state.isResizing?U(t.width):i("width"),s=t&&typeof t.height<"u"&&!this.state.isResizing?U(t.height):i("height");return{width:a,height:s}},enumerable:!1,configurable:!0}),r.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,i=this.parentNode.style.flexWrap;i!=="wrap"&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var a={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=i),this.removeBase(e),a},r.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},r.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},r.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:e.flexBasis!=="auto"?e.flexBasis:void 0})}},r.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},r.prototype.createSizeForCssProperty=function(e,t){var i=this.propsSize&&this.propsSize[t];return this.state[t]==="auto"&&this.state.original[t]===e&&(typeof i>"u"||i==="auto")?"auto":e},r.prototype.calculateNewMaxFromBoundary=function(e,t){var i=this.props.boundsByDirection,a=this.state.direction,s=i&&S("left",a),n=i&&S("top",a),h,l;if(this.props.bounds==="parent"){var p=this.parentNode;p&&(h=s?this.resizableRight-this.parentLeft:p.offsetWidth+(this.parentLeft-this.resizableLeft),l=n?this.resizableBottom-this.parentTop:p.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(h=s?this.resizableRight:this.window.innerWidth-this.resizableLeft,l=n?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(h=s?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),l=n?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return h&&Number.isFinite(h)&&(e=e&&e<h?e:h),l&&Number.isFinite(l)&&(t=t&&t<l?t:l),{maxWidth:e,maxHeight:t}},r.prototype.calculateNewSizeFromDirection=function(e,t){var i=this.props.scale||1,a=this.props.resizeRatio||1,s=this.state,n=s.direction,h=s.original,l=this.props,p=l.lockAspectRatio,u=l.lockAspectRatioExtraHeight,m=l.lockAspectRatioExtraWidth,g=h.width,d=h.height,b=u||0,w=m||0;return S("right",n)&&(g=h.width+(e-h.x)*a/i,p&&(d=(g-w)/this.ratio+b)),S("left",n)&&(g=h.width-(e-h.x)*a/i,p&&(d=(g-w)/this.ratio+b)),S("bottom",n)&&(d=h.height+(t-h.y)*a/i,p&&(g=(d-b)*this.ratio+w)),S("top",n)&&(d=h.height-(t-h.y)*a/i,p&&(g=(d-b)*this.ratio+w)),{newWidth:g,newHeight:d}},r.prototype.calculateNewSizeFromAspectRatio=function(e,t,i,a){var s=this.props,n=s.lockAspectRatio,h=s.lockAspectRatioExtraHeight,l=s.lockAspectRatioExtraWidth,p=typeof a.width>"u"?10:a.width,u=typeof i.width>"u"||i.width<0?e:i.width,m=typeof a.height>"u"?10:a.height,g=typeof i.height>"u"||i.height<0?t:i.height,d=h||0,b=l||0;if(n){var w=(m-d)*this.ratio+b,R=(g-d)*this.ratio+b,L=(p-b)/this.ratio+d,c=(u-b)/this.ratio+d,v=Math.max(p,w),O=Math.min(u,R),B=Math.max(m,L),N=Math.min(g,c);e=j(e,v,O),t=j(t,B,N)}else e=j(e,p,u),t=j(t,m,g);return{newWidth:e,newHeight:t}},r.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var e=this.parentNode;if(e){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var i=this.props.bounds.getBoundingClientRect();this.targetLeft=i.left,this.targetTop=i.top}if(this.resizable){var a=this.resizable.getBoundingClientRect(),s=a.left,n=a.top,h=a.right,l=a.bottom;this.resizableLeft=s,this.resizableRight=h,this.resizableTop=n,this.resizableBottom=l}},r.prototype.onResizeStart=function(e,t){if(!(!this.resizable||!this.window)){var i=0,a=0;if(e.nativeEvent&&At(e.nativeEvent)?(i=e.nativeEvent.clientX,a=e.nativeEvent.clientY):e.nativeEvent&&H(e.nativeEvent)&&(i=e.nativeEvent.touches[0].clientX,a=e.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var s=this.props.onResizeStart(e,t,this.resizable);if(s===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var n,h=this.window.getComputedStyle(this.resizable);if(h.flexBasis!=="auto"){var l=this.parentNode;if(l){var p=this.window.getComputedStyle(l).flexDirection;this.flexDir=p.startsWith("row")?"row":"column",n=h.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var u={original:{x:i,y:a,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:y(y({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:n};this.setState(u)}},r.prototype.onMouseMove=function(e){var t=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&H(e))try{e.preventDefault(),e.stopPropagation()}catch{}var i=this.props,a=i.maxWidth,s=i.maxHeight,n=i.minWidth,h=i.minHeight,l=H(e)?e.touches[0].clientX:e.clientX,p=H(e)?e.touches[0].clientY:e.clientY,u=this.state,m=u.direction,g=u.original,d=u.width,b=u.height,w=this.getParentSize(),R=$t(w,this.window.innerWidth,this.window.innerHeight,a,s,n,h);a=R.maxWidth,s=R.maxHeight,n=R.minWidth,h=R.minHeight;var L=this.calculateNewSizeFromDirection(l,p),c=L.newHeight,v=L.newWidth,O=this.calculateNewMaxFromBoundary(a,s);this.props.snap&&this.props.snap.x&&(v=it(v,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(c=it(c,this.props.snap.y,this.props.snapGap));var B=this.calculateNewSizeFromAspectRatio(v,c,{width:O.maxWidth,height:O.maxHeight},{width:n,height:h});if(v=B.newWidth,c=B.newHeight,this.props.grid){var N=et(v,this.props.grid[0]),J=et(c,this.props.grid[1]),C=this.props.snapGap||0;v=C===0||Math.abs(N-v)<=C?N:v,c=C===0||Math.abs(J-c)<=C?J:c}var lt={width:v-g.width,height:c-g.height};if(d&&typeof d=="string"){if(d.endsWith("%")){var k=v/w.width*100;v=k+"%"}else if(d.endsWith("vw")){var A=v/this.window.innerWidth*100;v=A+"vw"}else if(d.endsWith("vh")){var $=v/this.window.innerHeight*100;v=$+"vh"}}if(b&&typeof b=="string"){if(b.endsWith("%")){var k=c/w.height*100;c=k+"%"}else if(b.endsWith("vw")){var A=c/this.window.innerWidth*100;c=A+"vw"}else if(b.endsWith("vh")){var $=c/this.window.innerHeight*100;c=$+"vh"}}var x={width:this.createSizeForCssProperty(v,"width"),height:this.createSizeForCssProperty(c,"height")};this.flexDir==="row"?x.flexBasis=x.width:this.flexDir==="column"&&(x.flexBasis=x.height),at.flushSync(function(){t.setState(x)}),this.props.onResize&&this.props.onResize(e,m,this.resizable,lt)}},r.prototype.onMouseUp=function(e){var t=this.state,i=t.isResizing,a=t.direction,s=t.original;if(!(!i||!this.resizable)){var n={width:this.size.width-s.width,height:this.size.height-s.height};this.props.onResizeStop&&this.props.onResizeStop(e,a,this.resizable,n),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:y(y({},this.state.backgroundStyle),{cursor:"auto"})})}},r.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},r.prototype.renderResizer=function(){var e=this,t=this.props,i=t.enable,a=t.handleStyles,s=t.handleClasses,n=t.handleWrapperStyle,h=t.handleWrapperClass,l=t.handleComponent;if(!i)return null;var p=Object.keys(i).map(function(u){return i[u]!==!1?z.createElement(Pt,{key:u,direction:u,onResizeStart:e.onResizeStart,replaceStyles:a&&a[u],className:s&&s[u]},l&&l[u]?l[u]:null):null});return z.createElement("div",{className:h,style:n},p)},r.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce(function(s,n){return Ut.indexOf(n)!==-1||(s[n]=e.props[n]),s},{}),i=y(y(y({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(i.flexBasis=this.state.flexBasis);var a=this.props.as||"div";return z.createElement(a,y({ref:this.ref,style:i,className:this.props.className},t),this.state.isResizing&&z.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},r.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},r}(z.PureComponent),T={},Y={},Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.getTransformMatrix=Ft;function Ft(o){var r=window.getComputedStyle(o).transform,e=[0,0,0,0,0,0];return r&&r!=="none"&&(e=r.replace("matrix(","").replace(")","").replace(",","").split(" ").map(function(t){return parseFloat(t)})),e}Object.defineProperty(Y,"__esModule",{value:!0});var It=function(){function o(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}return function(r,e,t){return e&&o(r.prototype,e),t&&o(r,t),r}}(),st=z,ot=nt(st),qt=pt,_=nt(qt),Vt=at,Xt=Z;function nt(o){return o&&o.__esModule?o:{default:o}}function Yt(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}function Zt(o,r){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:o}function Gt(o,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);o.prototype=Object.create(r&&r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(o,r):o.__proto__=r)}var G=function(o){Gt(r,o);function r(e){Yt(this,r);var t=Zt(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.handleStartRotate=t.handleStartRotate.bind(t),t.handleRotate=t.handleRotate.bind(t),t.handleStopRotate=t.handleStopRotate.bind(t),t.state={rotating:!1,angle:0},t}return It(r,[{key:"componentDidMount",value:function(){this.addHandle()}},{key:"componentDidUpdate",value:function(){this.state.rotating||this.addHandle()}},{key:"componentWillUnmount",value:function(){this.handle&&this.handle.removeEventListener("mousedown",this.handleStartRotate),document.removeEventListener("mouseup",this.handleStopRotate)}},{key:"addHandle",value:function(){this.rotatable.querySelectorAll(".rotate-handle-holder").forEach(function(t){return t.remove()}),this.props.canRotate&&(this.handleContainer=document.createElement("div"),this.handleContainer.classList.add("rotate-handle-holder"),this.handle=document.createElement("div"),this.handle.classList.add("rotate-handle"),this.handleContainer.appendChild(this.handle),this.rotatable.appendChild(this.handleContainer),this.handle.addEventListener("mousedown",this.handleStartRotate),document.addEventListener("mouseup",this.handleStopRotate))}},{key:"handleStartRotate",value:function(t){var i=!1;if("which"in t?i=t.which===3:"button"in t&&(i=t.button===2),!i){var a=this.props.onRotateStart;t.stopPropagation(),document.addEventListener("mousemove",this.handleRotate),a&&a(t,this.rotatable,this.state.angle),this.setState({rotating:!0})}}},{key:"handleRotate",value:function(t){var i=this;if(t.stopPropagation(),t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1,!!this.state.rotating){var a=this.props.onRotate,s=this.rotatable.getBoundingClientRect(),n=s.left+this.rotatable.clientWidth/2,h=s.top+this.rotatable.clientHeight/2,l=t.pageX-(document.documentElement.scrollLeft||document.body.scrollLeft),p=t.pageY-(document.documentElement.scrollTop||document.body.scrollTop),u=Math.atan2(l-n,-(p-h)),m=u*(180/Math.PI),g=(0,Xt.getTransformMatrix)(this.rotatable);this.rotatable.style.transform="translate("+g[4]+"px, "+g[5]+"px) rotate("+m+"deg)";var d=m>0?m:360+m;this.setState({angle:d},function(){a&&a(t,i.rotatable,d)})}}},{key:"handleStopRotate",value:function(t){var i=this;if(this.state.rotating){var a=this.props.onRotateStop;document.removeEventListener("mousemove",this.handleRotate),this.setState({rotating:!1},function(){a&&a(t,i.rotatable,i.state.angle+"deg")})}}},{key:"render",value:function(){var t=this,i=ot.default.Children.toArray(this.props.children);return ot.default.cloneElement(i[0],{ref:function(s){return t.rotatable=(0,Vt.findDOMNode)(s)}})}}]),r}(st.Component);G.propTypes={children:_.default.element.isRequired,onRotateStart:_.default.func,onRotate:_.default.func,onRotateStop:_.default.func,canRotate:_.default.bool};G.defaultProps={canRotate:!0};Y.default=G;Object.defineProperty(T,"__esModule",{value:!0});var Jt=T.Rotatable=void 0,Kt=Y,ht=Qt(Kt);function Qt(o){return o&&o.__esModule?o:{default:o}}Jt=T.Rotatable=ht.default;T.default=ht.default;export{oe as R,Jt as a,bt as b,Rt as c,dt as d,Et as e,Bt as f};
